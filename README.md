# Secret Santa Game

This program assigns secret children to each employee for a Secret Santa game. It takes a list of employees and their email IDs, along with the previous year's assignments, and generates new assignments for the current year.

## Installation

To use this program, follow these steps:

Clone the repository or download the code files.

Install the required dependencies by running the following command in your terminal:

```
npm install
```

## Usage

To run the Secret Santa game, you need to provide two input files: **Employee-List.csv** and **Secret-Santa-Game-Result-2023.csv**. These files should be in CSV format and have specific columns.

1. **Employee-List.csv** - This file contains the list of employees participating in the game. It should have the following columns:

- **Employee_Name** - The name of the employee
- **Employee_EmailID** - The email ID of the employee

#### Example format:

```
Employee_Name,Employee_EmailID
Alice,alice@example.com
Bob,bob@example.com
Charlie,charlie@example.com
```

2. **Secret-Santa-Game-Result-2023.csv** - This file contains the previous year's assignments. It should have the following columns:

- **Employee_Name** - The name of the employee
- **Employee_EmailID** - The email ID of the employee
- **Secret_Child_Name** - The name of the assigned secret child for the employee
- **Secret_Child_EmailID** - The email ID of the assigned secret child

#### Example format:

```
Employee_Name,Employee_EmailID,Secret_Child_Name,Secret_Child_EmailID
Alice,alice@example.com,Bob,bob@example.com
Bob,bob@example.com,Charlie,charlie@example.com
Charlie,charlie@example.com,Alice,alice@example.com
```

3. Secret-Santa-Game-Result-2024.csv - This file will contain the new assignments for the current year. It will be generated by the program.

---

After preparing the input files, open the index.js file and modify the following line to provide the correct filenames:

```
runSecretSantaGame(
  "Employee-List.csv",
  "Secret-Santa-Game-Result-2023.csv",
  "Secret-Santa-Game-Result-2024.csv"
);
```

Save the file, and then execute the program by running the following command:

```
node index.js
```

The program will read the input files, generate new assignments, and save them to the **Secret-Santa-Game-Result-2024.csv** file.

## Testing

The program includes a test file named secretSanta.test.js to ensure the correctness of the assignSecretChildren function. To run the tests, execute the following command:

```
npm test
```

The tests will be executed, and the results will be displayed in the console.

## Additional Information

The **assignSecretChildren** function is responsible for assigning secret children to each employee based on certain rules.

- An employee cannot choose themselves as their secret child.
- An employee cannot be assigned to the same secret child as in the previous
  year's Secret Santa event, if applicable.
- Each employee must have exactly one secret child.
- Each secret child should be assigned to only one employee.
  It takes the list of employees and previous assignments as input and returns the new assignments.

The program uses the **csv-parser** and **fs** modules to read and write CSV files, respectively. These dependencies are already installed when you run **npm install**.

The **validateCsvData** function is used to validate the CSV data and ensure it meets the expected format.

The program handles errors during file reading, writing, and data validation. If any errors occur, they will be logged to the console.

For more details, please refer to the code files and comments provided.
